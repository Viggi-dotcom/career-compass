const CAREERS = {
  eng: {
    title: "Engineering",
    desc: "Build the future through innovation! From civil to mechanical engineering. Wide range of specializations with excellent job prospects globally.",
    img: "https://images.unsplash.com/photo-1581094488379-6a10d04c0f04?auto=format&fit=crop&w=1400&q=80",
    details: {
      courses: "ðŸŽ“ Engineering Programs:\nâ€¢ B.Tech/B.E. (4 years)\nâ€¢ Diploma in Engineering (3 years)\nâ€¢ M.Tech (2 years)\nâ€¢ Ph.D. Programs",
      branches: "âš™ï¸ Popular Branches:\nâ€¢ Computer Science\nâ€¢ Mechanical Engineering\nâ€¢ Electrical Engineering\nâ€¢ Civil Engineering\nâ€¢ Electronics & Communication",
      entrance: "ðŸ“š Major Exams:\nâ€¢ JEE Main & Advanced\nâ€¢ State CET\nâ€¢ BITSAT\nâ€¢ VITEEE",
      careers: "ðŸ’¼ Career Options:\nâ€¢ Software Engineer (â‚¹4-40 LPA)\nâ€¢ Civil Engineer (â‚¹3-25 LPA)\nâ€¢ Mechanical Engineer\nâ€¢ Electronics Engineer",
      skills: "ðŸ› ï¸ Required Skills:\nâ€¢ Strong Mathematics\nâ€¢ Problem Solving\nâ€¢ Technical Drawing\nâ€¢ Software Tools\nâ€¢ Project Management"
    }
  },
  ai: {
    title: "AI & Robotics",
    desc: "Pioneer the future of automation! Work with cutting-edge AI, machine learning, and robotics technologies. High growth field.",
    img: "https://images.unsplash.com/photo-1555255707-c07966088b7b?auto=format&fit=crop&w=1400&q=80",
    details: {
      courses: "ðŸ¤– Programs:\nâ€¢ B.Tech in AI/ML\nâ€¢ M.Tech in Robotics\nâ€¢ Specialized AI Certifications\nâ€¢ Research Programs",
      skills: "ðŸ§  Essential Skills:\nâ€¢ Programming (Python, R)\nâ€¢ Machine Learning\nâ€¢ Deep Learning\nâ€¢ Computer Vision\nâ€¢ Robotics",
      careers: "ðŸ’¼ Opportunities:\nâ€¢ AI Engineer (â‚¹8-45 LPA)\nâ€¢ ML Engineer\nâ€¢ Robotics Developer\nâ€¢ Research Scientist",
      tools: "ðŸ› ï¸ Key Tools:\nâ€¢ TensorFlow/PyTorch\nâ€¢ ROS\nâ€¢ Computer Vision Libraries\nâ€¢ Cloud AI Platforms"
    }
  },
  education: {
    title: "Education & Teaching",
    desc: "Shape young minds and inspire future generations! From classroom teaching to educational technology and administration.",
    img: "https://images.unsplash.com/photo-1524178232363-1fb2b075b655?auto=format&fit=crop&w=1400&q=80",
    details: {
      courses: "ðŸ“š Programs:\nâ€¢ B.Ed (2 years)\nâ€¢ D.El.Ed\nâ€¢ M.Ed\nâ€¢ Ph.D. in Education",
      careers: "ðŸ‘¨â€ðŸ« Roles:\nâ€¢ Teacher (â‚¹3-12 LPA)\nâ€¢ Principal\nâ€¢ Educational Consultant\nâ€¢ Curriculum Designer",
      skills: "ðŸŽ¯ Required Skills:\nâ€¢ Communication\nâ€¢ Patience\nâ€¢ Leadership\nâ€¢ Creative Teaching\nâ€¢ Student Psychology",
      scope: "ðŸŒŸ Opportunities:\nâ€¢ Government Schools\nâ€¢ Private Schools\nâ€¢ Online Education\nâ€¢ Education Technology"
    }
  },
  psych: {
    title: "Psychology & Social Work",
    desc: "Help people overcome challenges and improve mental health. Growing demand in modern society.",
    img: "https://images.unsplash.com/photo-1573497620053-ea5300f94f21?auto=format&fit=crop&w=1400&q=80",
    details: {
      courses: "ðŸŽ“ Available Programs:\nâ€¢ BA Psychology\nâ€¢ MSW - Social Work\nâ€¢ M.Phil Clinical Psychology\nâ€¢ Counseling Courses",
      careers: "ðŸ’¼ Career Paths:\nâ€¢ Clinical Psychologist (â‚¹4-15 LPA)\nâ€¢ Counselor\nâ€¢ Social Worker\nâ€¢ Research Psychologist",
      skills: "ðŸ§  Key Skills:\nâ€¢ Empathy\nâ€¢ Active Listening\nâ€¢ Assessment\nâ€¢ Therapeutic Techniques\nâ€¢ Documentation",
      specializations: "ðŸŽ¯ Focus Areas:\nâ€¢ Child Psychology\nâ€¢ Clinical Psychology\nâ€¢ Industrial Psychology\nâ€¢ Rehabilitation"
    }
  },
  it: {
    title: "Information Technology",
    desc: "Shape the digital future through code! From AI and machine learning to cybersecurity. Starting salary: â‚¹4-8 LPA. High growth potential worldwide.",
    img: "https://images.unsplash.com/photo-1571171637578-41bc2dd41cd2?auto=format&fit=crop&w=1400&q=80",
    details: {
      courses: "ðŸŽ“ Popular Courses:\nâ€¢ B.Tech in Computer Science (4 years)\nâ€¢ BCA - Bachelor in Computer Applications (3 years)\nâ€¢ Diploma in IT (2-3 years)\nâ€¢ Specialized Bootcamps (3-6 months)",
      skills: "ðŸ’¡ Key Skills:\nâ€¢ Programming (Python, Java, JavaScript)\nâ€¢ Problem Solving & Algorithms\nâ€¢ Cloud Computing\nâ€¢ DevOps & CI/CD\nâ€¢ Cybersecurity Basics",
      careers: "ðŸ’¼ Career Paths:\nâ€¢ Software Developer (â‚¹5-25 LPA)\nâ€¢ Data Scientist (â‚¹8-30 LPA)\nâ€¢ Cloud Architect (â‚¹12-40 LPA)\nâ€¢ DevOps Engineer (â‚¹8-35 LPA)",
      future: "ðŸš€ Future Scope:\nâ€¢ AI/ML Integration\nâ€¢ Blockchain Development\nâ€¢ IoT Solutions\nâ€¢ Quantum Computing\nâ€¢ Metaverse Development"
    }
  },
  health: {
    title: "Healthcare",
    desc: "Save lives and make a difference in healthcare. From clinical practice to research and mental health. NEET required for medical courses.",
    img: "https://images.unsplash.com/photo-1584982751601-97dcc096659c?auto=format&fit=crop&w=1400&q=80",
    details: {
      courses: "ðŸ¥ Medical Programs:\nâ€¢ MBBS (5.5 years)\nâ€¢ BDS - Dental (5 years)\nâ€¢ BAMS - Ayurveda (5.5 years)\nâ€¢ B.Sc Nursing (4 years)",
      entrance: "ðŸ“š Entrance Exams:\nâ€¢ NEET-UG (National Level)\nâ€¢ AIIMS Entrance\nâ€¢ JIPMER\nâ€¢ State Medical Tests",
      careers: "ðŸ’‰ Specializations:\nâ€¢ General Medicine (â‚¹8-15 LPA)\nâ€¢ Surgery (â‚¹10-30 LPA)\nâ€¢ Pediatrics\nâ€¢ Cardiology\nâ€¢ Neurology",
      skills: "ðŸŽ¯ Required Skills:\nâ€¢ Strong Biology foundation\nâ€¢ Patient care & empathy\nâ€¢ Critical thinking\nâ€¢ Communication\nâ€¢ Research aptitude"
    }
  },
  design: {
    title: "Arts & Design",
    desc: "Create stunning visuals and experiences. From UI/UX to animation and graphic design. Perfect for creative minds with technical skills.",
    img: "https://images.unsplash.com/photo-1547333101-6bb18e609b2f?auto=format&fit=crop&w=1400&q=80",
    details: {
      courses: "ðŸŽ¨ Design Programs:\nâ€¢ B.Des - Design (4 years)\nâ€¢ Animation & VFX (3-4 years)\nâ€¢ UI/UX Design (1-2 years)\nâ€¢ Graphic Design Diploma",
      tools: "ðŸ› ï¸ Essential Tools:\nâ€¢ Adobe Creative Suite\nâ€¢ Figma/Sketch\nâ€¢ Blender\nâ€¢ Cinema 4D\nâ€¢ After Effects",
      careers: "ðŸ’¼ Career Options:\nâ€¢ UI/UX Designer (â‚¹5-15 LPA)\nâ€¢ Motion Designer\nâ€¢ Art Director\nâ€¢ Product Designer\nâ€¢ Creative Lead",
      skills: "âœ¨ Key Skills:\nâ€¢ Visual Design\nâ€¢ Typography\nâ€¢ Color Theory\nâ€¢ User Research\nâ€¢ Prototyping"
    }
  },
  business: {
    title: "Business & Management",
    desc: "Lead organizations to success! From startups to MNCs, master finance, marketing, and leadership. High growth with MBA.",
    img: "https://images.unsplash.com/photo-1520607162513-77705c0f0d4a?auto=format&fit=crop&w=1400&q=80",
    details: {
      courses: "ðŸ“š Programs:\nâ€¢ BBA (3 years)\nâ€¢ B.Com (3 years)\nâ€¢ MBA (2 years)\nâ€¢ PGDM (2 years)",
      paths: "ðŸ’¼ Career Paths:\nâ€¢ Business Analyst (â‚¹5-12 LPA)\nâ€¢ Marketing Manager\nâ€¢ Investment Banker\nâ€¢ Management Consultant",
      skills: "ðŸŽ¯ Must-Have Skills:\nâ€¢ Financial Analysis\nâ€¢ Marketing Strategy\nâ€¢ Leadership\nâ€¢ Communication\nâ€¢ Project Management",
      future: "ðŸ“ˆ Growth Areas:\nâ€¢ Digital Marketing\nâ€¢ FinTech\nâ€¢ E-commerce\nâ€¢ Data Analytics\nâ€¢ Startup Management"
    }
  },
  law: {
    title: "Law & Civil Services",
    desc: "Uphold justice and serve society. From corporate law to civil services. Excellent opportunities in public and private sectors.",
    img: "https://images.unsplash.com/photo-1589829545856-d10d557cf95f?auto=format&fit=crop&w=1400&q=80",
    details: {
      courses: "âš–ï¸ Programs:\nâ€¢ BA LLB (5 years)\nâ€¢ LLB (3 years)\nâ€¢ LLM (2 years)\nâ€¢ Civil Services Preparation",
      exams: "ðŸ“ Key Exams:\nâ€¢ CLAT for Law\nâ€¢ UPSC for Civil Services\nâ€¢ State Judicial Services\nâ€¢ State PSC Exams",
      careers: "ðŸ’¼ Opportunities:\nâ€¢ Corporate Lawyer (â‚¹6-40 LPA)\nâ€¢ Civil Servant\nâ€¢ Judge\nâ€¢ Legal Consultant",
      skills: "ðŸŽ¯ Required Skills:\nâ€¢ Legal Research\nâ€¢ Critical Analysis\nâ€¢ Documentation\nâ€¢ Public Speaking\nâ€¢ Negotiation"
    }
  },
  media: {
    title: "Media & Communication",
    desc: "Share stories that matter! From journalism to digital content creation. Shape public opinion and create engaging content.",
    img: "https://images.unsplash.com/photo-1505373877841-8d25f7d46678?auto=format&fit=crop&w=1400&q=80",
    details: {
      courses: "ðŸ“± Programs:\nâ€¢ BA in Journalism\nâ€¢ Mass Communication\nâ€¢ Digital Media\nâ€¢ Content Creation",
      roles: "ðŸŽ¯ Career Options:\nâ€¢ Journalist (â‚¹4-15 LPA)\nâ€¢ Content Creator\nâ€¢ PR Manager\nâ€¢ Social Media Manager",
      skills: "ðŸ’¡ Key Skills:\nâ€¢ Writing & Editing\nâ€¢ Video Production\nâ€¢ Social Media\nâ€¢ Public Speaking\nâ€¢ Analytics",
      tools: "ðŸ› ï¸ Tools:\nâ€¢ Adobe Premier Pro\nâ€¢ Social Media Platforms\nâ€¢ Analytics Tools\nâ€¢ CMS Systems"
    }
  }
};

// modal elements
const modal = document.getElementById("modal");
const modalTitle = document.getElementById("modalTitle");
const modalBody = document.getElementById("modalBody");
const modalClose = document.getElementById("modalClose");

function openCareer(key) {
  const c = CAREERS[key];
  if (!c) return;
  modalTitle.textContent = c.title;
  document.body.classList.add('modal-open');
  
  let detailsHTML = '';
  if (c.details) {
    Object.entries(c.details).forEach(([key, value]) => {
      detailsHTML += `
        <div class="detail-section">
          <div class="detail-content">${value}</div>
        </div>
      `;
    });
  }
  
  modalBody.innerHTML = `
    <div class="modal-img" style="background-image:url('${c.img}')"></div>
    <div class="modal-content">
      <p class="modal-desc">${c.desc}</p>
      ${detailsHTML}
      <div class="modal-actions">
        <button class="primary" onclick="copyInfo('${key}')">Save Info</button>
        <button class="secondary-btn" onclick="window.open('https://www.google.com/search?q=${encodeURIComponent(c.title + ' career path india')}', '_blank')">Learn More</button>
      </div>
    </div>
  `;
  
  modal.classList.add("show");
  modal.setAttribute("aria-hidden", "false");

  
  // Animate sections
  setTimeout(() => {
    document.querySelectorAll('.detail-section').forEach((el, i) => {
      setTimeout(() => el.classList.add('visible'), i * 100);
    });
  }, 100);
}

function closeModal() {
  modal.classList.remove("show");
  modal.setAttribute("aria-hidden", "true");
  document.body.classList.remove('modal-open');
}
modalClose.addEventListener("click", closeModal);
modal.addEventListener("click", (e) => {
  if (e.target === modal) closeModal();
});
window.addEventListener("keydown", (e) => {
  if (e.key === "Escape") closeModal();
});

// attach events to cards
document.querySelectorAll(".card").forEach((card) => {
  card.addEventListener("click", () => openCareer(card.dataset.key));
});

// typing animation
const typingEl = document.getElementById("typing");
const phrases = [
  "Exploring Careers...",
  "Guiding Futures...",
  "Inspiring Growth...",
];
let tIndex = 0,
  cIndex = 0,
  forward = true;
function typeTick() {
  const text = phrases[tIndex];
  if (forward) {
    cIndex++;
    typingEl.textContent = text.slice(0, cIndex);
    if (cIndex === text.length) {
      forward = false;
      setTimeout(typeTick, 900);
      return;
    }
  } else {
    cIndex--;
    typingEl.textContent = text.slice(0, cIndex);
    if (cIndex === 0) {
      forward = true;
      tIndex = (tIndex + 1) % phrases.length;
    }
  }
  setTimeout(typeTick, forward ? 80 : 40);
}
setTimeout(typeTick, 600);

// Make all cards visible immediately
function showAllCards() {
  const cards = document.querySelectorAll(".card");
  cards.forEach((card, index) => {
    setTimeout(() => {
      card.style.opacity = "1";
      card.style.transform = "translateY(0)";
    }, index * 100);
  });
}

// Run immediately when script loads
showAllCards();

// contact form (localStorage) + animated toast
const form = document.getElementById("contactForm");
form.addEventListener("submit", function (e) {
  e.preventDefault();
  const name = document.getElementById("name").value.trim();
  const email = document.getElementById("email").value.trim();
  const field = document.getElementById("field").value;
  const message = document.getElementById("message").value.trim();
  if (!name || !email) return showToast("Please enter name and email", true);
  const rec = { name, email, field, message, time: new Date().toISOString() };
  const arr = JSON.parse(
    localStorage.getItem("career_compass_contacts") || "[]"
  );
  arr.push(rec);
  localStorage.setItem("career_compass_contacts", JSON.stringify(arr));
  form.reset();
  showToast("Message saved successfully");
});

// toast helper (auto-hide after 2s)
function showToast(text, isError) {
  const t = document.createElement("div");
  t.className = "toast";
  t.style.background = isError
    ? "linear-gradient(90deg,#ef4444,#f97316)"
    : "linear-gradient(90deg,var(--accent),var(--accent-2))";
  t.textContent = text;
  document.body.appendChild(t);
  setTimeout(() => {
    t.style.transition = "opacity .4s";
    t.style.opacity = 0;
    setTimeout(() => t.remove(), 400);
  }, 2000);
}

// copy info
function copyInfo(key) {
  const c = CAREERS[key];
  const txt = `${c.title}\n\n${c.desc}`;
  if (navigator.clipboard)
    navigator.clipboard
      .writeText(txt)
      .then(() => showToast("Copied to clipboard"));
}

// initial hero image
document.getElementById(
  "heroImg"
).style.backgroundImage = `url('${CAREERS.it.img}')`;

// set year
document.querySelector(
  "footer"
).textContent = `Â© ${new Date().getFullYear()} Career Compass â€” Guiding Your Future`;


